<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lit Audio UI Showcase</title>
    <!-- Material Symbols for icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <nav style="position: fixed; top: 0; left: 0; right: 0; background: var(--md-sys-color-surface-container-high); border-bottom: 1px solid var(--md-sys-color-outline-variant); padding: 0.75rem 2rem; display: flex; justify-content: space-between; align-items: center; z-index: 100; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
      <div style="display: flex; align-items: baseline; gap: 1rem;">
        <h1 style="margin: 0; font-size: 1.25rem; font-weight: 700;">Lit Audio UI</h1>
        <em style="opacity: 0.8;">Native WebComponents</em>
      </div>
      <div style="display: flex; align-items: center; gap: 1rem;">
        
        <!-- Theme Color Picker -->
        <div id="color-picker" style="display: flex; gap: 0.5rem; align-items: center; padding-right: 1rem; border-right: 1px solid var(--md-sys-color-outline-variant);">
          <button class="color-swatch" data-primary="#0066cc" data-secondary="#A0B9D1" data-onprimary="#ffffff" style="background: #0066cc; width: 24px; height: 24px; border-radius: 50%; border: 2px solid var(--md-sys-color-on-surface); cursor: pointer;" title="Blue"></button>
          <button class="color-swatch" data-primary="#6750a4" data-secondary="#d0bcff" data-onprimary="#ffffff" style="background: #6750a4; width: 24px; height: 24px; border-radius: 50%; border: 2px solid transparent; cursor: pointer;" title="Purple"></button>
          <button class="color-swatch" data-primary="#386a20" data-secondary="#b6f297" data-onprimary="#ffffff" style="background: #386a20; width: 24px; height: 24px; border-radius: 50%; border: 2px solid transparent; cursor: pointer;" title="Green"></button>
          <button class="color-swatch" data-primary="#b3261e" data-secondary="#ffb4ab" data-onprimary="#ffffff" style="background: #b3261e; width: 24px; height: 24px; border-radius: 50%; border: 2px solid transparent; cursor: pointer;" title="Red"></button>
          <button class="color-swatch" data-primary="#fbbc04" data-secondary="#fde293" data-onprimary="#1e1e1e" style="background: #fbbc04; width: 24px; height: 24px; border-radius: 50%; border: 2px solid transparent; cursor: pointer;" title="Yellow"></button>
        </div>

        <div style="display: flex; gap: 0.5rem; align-items: center;">
          <a href="https://github.com/ghchinoy/scream-ui" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center;">
            <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/ghchinoy/scream-ui?style=social">
          </a>
          <a href="https://www.npmjs.com/package/@ghchinoy/lit-audio-ui" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center;">
            <img alt="NPM Version" src="https://img.shields.io/npm/v/@ghchinoy/lit-audio-ui?color=cb3837">
          </a>
        </div>
        <button id="theme-toggle" class="theme-toggle-btn" style="position: static; box-shadow: none; border: 1px solid var(--md-sys-color-outline-variant);">
          <span class="material-symbols-outlined">dark_mode</span>
        </button>
      </div>
    </nav>

    <div class="demo-container">
      <aside class="side-nav">
        <h3 style="margin-top: 0; font-size: 1rem; font-weight: 600; color: var(--md-sys-color-on-surface); margin-bottom: 1rem;">Showcase</h3>
        <ul id="nav-list" style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 0.5rem;">
          <!-- Dynamically populated -->
        </ul>
      </aside>
      
      <main class="main-content">
        
        <!-- EXAMPLES SECTION -->
        <div class="demo-section" data-title="Examples">
          <h2>Examples</h2>

          <ui-showcase-card title="Podcast Player Example" description="Atomic components powered by @lit/context sharing an underlying audio stream.">
            <demo-podcast-player id="demo-podcast-player-element"></demo-podcast-player>
            <div slot="code">&lt;ui-audio-provider src="podcast.mp3"&gt;
  &lt;ui-orb id="orb"&gt;&lt;/ui-orb&gt;
  &lt;ui-audio-play-button&gt;&lt;/ui-audio-play-button&gt;
  &lt;ui-audio-progress-slider&gt;&lt;/ui-audio-progress-slider&gt;
&lt;/ui-audio-provider&gt;</div>
          </ui-showcase-card>

          <ui-showcase-card title="Lyria Music Player" description="Comprehensive media player with dynamic album art and scrolling waveforms.">
            <demo-lyria-player id="demo-lyria-player-element"></demo-lyria-player>
            <div slot="code">&lt;ui-audio-provider src="track.wav"&gt;
  &lt;ui-scrolling-waveform&gt;&lt;/ui-scrolling-waveform&gt;
  &lt;ui-audio-play-button&gt;&lt;/ui-audio-play-button&gt;
  &lt;ui-audio-volume-slider&gt;&lt;/ui-audio-volume-slider&gt;
&lt;/ui-audio-provider&gt;</div>
          </ui-showcase-card>

          <ui-showcase-card title="Dynamic Speech Widget" description="Compound recording widget simulating a real-time transcription experience.">
            <demo-speech-input></demo-speech-input>
            <div slot="code">&lt;ui-voice-button state="recording"&gt;&lt;/ui-voice-button&gt;</div>
          </ui-showcase-card>

          <ui-showcase-card title="Smart Textarea" description="Atomic speech primitives (Record, Preview, Cancel) embedded inside a standard textarea.">
            <demo-smart-textarea></demo-smart-textarea>
            <div slot="code">&lt;ui-speech-provider simulation&gt;
  &lt;textarea&gt;&lt;/textarea&gt;
  &lt;ui-speech-record-button size="sm"&gt;&lt;/ui-speech-record-button&gt;
  &lt;ui-speech-preview&gt;&lt;/ui-speech-preview&gt;
&lt;/ui-speech-provider&gt;</div>
          </ui-showcase-card>
        </div>

        <!-- BRANDING SECTION -->
        <div class="demo-section" data-title="Branding">
          <h2>Branding</h2>
          <ui-showcase-card title="Theming Workbench" description="Re-theme the recording experience instantly using only CSS variables.">
            <div style="display: flex; flex-direction: column; gap: 2rem; align-items: center; padding: 1rem;">
              <div id="theme-workbench-target" style="display: flex; gap: 2rem; align-items: center; padding: 2rem; border-radius: 16px; border: 2px dashed var(--md-sys-color-outline-variant); width: 100%; box-sizing: border-box; justify-content: center;">
                 <ui-speech-provider simulation>
                    <ui-speech-record-button></ui-speech-record-button>
                    <ui-speech-preview placeholder="Brandable speech input..."></ui-speech-preview>
                 </ui-speech-provider>
              </div>
              <div class="control-panel" style="background: var(--md-sys-color-surface-container-low); padding: 1rem; border-radius: 8px; width: 100%; box-sizing: border-box;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem;">
                  <div style="display: flex; flex-direction: column; gap: 4px;">
                    <label style="font-size: 12px; font-weight: 600; white-space: nowrap;">Record Color</label>
                    <input type="color" id="theme-record-color" value="#ff4444" style="width: 100%; height: 32px; border: none; border-radius: 4px; cursor: pointer;" />
                  </div>
                  <div style="display: flex; flex-direction: column; gap: 4px;">
                    <label style="font-size: 12px; font-weight: 600; white-space: nowrap;">Waveform Color</label>
                    <input type="color" id="theme-wave-color" value="#00ccff" style="width: 100%; height: 32px; border: none; border-radius: 4px; cursor: pointer;" />
                  </div>
                  <div style="display: flex; flex-direction: column; gap: 4px;">
                    <label style="font-size: 12px; font-weight: 600; white-space: nowrap;">Text Size</label>
                    <select id="theme-text-size" style="width: 100%; height: 32px; border-radius: 4px; padding: 0 8px;">
                      <option value="12px">Small (12px)</option>
                      <option value="14px" selected>Normal (14px)</option>
                      <option value="18px">Large (18px)</option>
                      <option value="24px">X-Large (24px)</option>
                    </select>
                  </div>
                  <div style="display: flex; flex-direction: column; gap: 4px;">
                    <label style="font-size: 12px; font-weight: 600; white-space: nowrap;">Font Style</label>
                    <select id="theme-font-family" style="width: 100%; height: 32px; border-radius: 4px; padding: 0 8px;">
                      <option value="inherit">Project Default</option>
                      <option value="monospace">Monospace</option>
                      <option value="serif">Serif</option>
                      <option value="cursive">Cursive</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div slot="code">&lt;style&gt;
  :root {
    --ui-speech-record-color: #ff4444;
    --ui-speech-wave-color: #00ccff;
  }
&lt;/style&gt;</div>
          </ui-showcase-card>
        </div>

        <!-- COMPONENTS SECTION -->
        <div class="demo-section" data-title="Components">
          <h2>Components</h2>

          <ui-showcase-card title="ui-waveform" description="Static timeline visualization.">
            <div class="control-panel">
              <button id="btn-regenerate-static" style="padding: 8px 16px; border-radius: 4px; border: 1px solid var(--md-sys-color-outline-variant); background: var(--md-sys-color-surface-container-highest); color: var(--md-sys-color-on-surface); cursor: pointer; display: inline-flex; align-items: center; gap: 8px;">
                <span class="material-symbols-outlined" style="font-size: 18px;">refresh</span> Regenerate
              </button>
            </div>
            <div class="waveform-container" style="height: 64px;">
              <ui-waveform id="demo-static-waveform" height="64" fadeEdges="true"></ui-waveform>
            </div>
          </ui-showcase-card>

          <ui-showcase-card title="ui-scrolling-waveform" description="Procedural scrolling animation.">
            <div class="waveform-container" style="height: 64px;">
              <ui-scrolling-waveform height="64" speed="50" barWidth="4" barGap="2" fadeEdges="true"></ui-scrolling-waveform>
            </div>
          </ui-showcase-card>

          <ui-showcase-card title="ui-orb" description="3D WebGL agent visualizer.">
            <div class="control-panel" style="display: flex; gap: 8px; flex-wrap: wrap; align-items: center;">
              <button id="orb-state-btn" style="padding: 8px 16px; border-radius: 4px; border: 1px solid var(--md-sys-color-outline-variant); background: var(--md-sys-color-surface-container-highest); color: var(--md-sys-color-on-surface); cursor: pointer;">Cycle State: idle</button>
              <button class="orb-direct-btn" data-state="null">Idle</button>
              <button class="orb-direct-btn" data-state="listening">Listening</button>
              <button class="orb-direct-btn" data-state="thinking">Thinking</button>
              <button class="orb-direct-btn" data-state="talking">Talking</button>
            </div>
            <div style="width: 250px; height: 250px; margin: 0 auto; background: var(--md-sys-color-surface-container-highest); border-radius: 16px; overflow: hidden; display: flex; align-items: center; justify-content: center;">
              <ui-orb id="demo-orb"></ui-orb>
            </div>
          </ui-showcase-card>

          <ui-showcase-card title="ui-shimmering-text" description="Pure CSS text loading effect.">
            <div style="font-size: 2rem; font-weight: 700;">
              <ui-shimmering-text text="Transcribing audio..." duration="2"></ui-shimmering-text>
            </div>
          </ui-showcase-card>

          <ui-showcase-card title="ui-live-waveform" description="Real-time AudioContext visualizer.">
            <div class="control-panel">
              <audio id="demo-audio-player" crossorigin="anonymous" src="https://storage.googleapis.com/scream-ui-samples/speech_sample-Aoede-20260212-183352.wav" preload="metadata" controls></audio>
              <button id="btn-processing" style="padding: 8px 16px; border-radius: 4px; border: 1px solid #ccc; cursor: pointer;">Toggle Processing</button>
            </div>
            <div class="waveform-container" style="height: 100px; display: flex; align-items: center;">
               <ui-live-waveform id="demo-live-waveform" height="80" sensitivity="2.5"></ui-live-waveform>
            </div>
          </ui-showcase-card>

          <ui-showcase-card title="ui-mic-selector" description="Hardware device enumeration.">
            <div style="margin-top: 1rem; display: flex; gap: 1rem; align-items: center;">
              <ui-mic-selector id="demo-mic-selector"></ui-mic-selector>
              <span id="demo-mic-state" style="font-family: monospace; font-size: 14px; background: var(--md-sys-color-surface-container-high); padding: 4px 8px; border-radius: 4px;">Selected ID: (none)</span>
            </div>
          </ui-showcase-card>

          <ui-showcase-card title="ui-voice-picker" description="Searchable persona selector.">
            <div style="margin-top: 1rem; max-width: 400px; display: flex; flex-direction: column; gap: 1rem;">
              <ui-voice-picker id="demo-voice-picker"></ui-voice-picker>
              <span id="demo-voice-picker-state" style="font-family: monospace; font-size: 14px; background: var(--md-sys-color-surface-container-high); padding: 4px 8px; border-radius: 4px;">Selected Voice: (none)</span>
            </div>
          </ui-showcase-card>

          <ui-showcase-card title="ui-voice-button" description="Compound interactive button.">
            <div style="margin-top: 1rem; display: flex; gap: 1rem; align-items: center; max-width: 400px;">
              <ui-voice-button id="demo-voice-btn" state="idle" label="Start Recording" trailing="âŒ¥Space"></ui-voice-button>
              <span id="demo-voice-btn-state" style="font-family: monospace; font-size: 14px; background: var(--md-sys-color-surface-container-high); padding: 4px 8px; border-radius: 4px;">State: idle</span>
            </div>
          </ui-showcase-card>
        </div>
      </main>
    </div>
    
    <script type="module" src="../src/index.ts"></script>
    <script type="module" src="./demo-app.ts"></script>
  </body>
</html>
